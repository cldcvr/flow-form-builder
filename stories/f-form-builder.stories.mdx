import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit-html";
import fields from "./f-formbuilder-fields";
import { useArgs } from "@storybook/client-api";

<Meta
  title="Components2/f-form-builder"
  parameters={{
    controls: { hideNoControlsWarning: true },
  }}
/>

# f-form-builder

<br />
<br />

## Overview

<f-divider></f-divider>

<br />

### [Playground](/story/components-f-form-builder--playground)

<Canvas>
  <Story
    name="Playground"
    argTypes={{
      config: {
        control: "object",
      },
      values: { control: "object" },
    }}
    args={{
      ...fields,
      values: {
        group7: { select: ["option 1", "option 2"] },
        group1: { abc: "abc", xyz: "5678" },
        group2: { email: "x@test.com" },
        group3: { checkbox: ["1"] },
        group5: { radio: "1" },
        group6: { switchButton: "on" },
        group4: { texthere: "" },
      },
    }}
  >
    {(args) => {
      const [_, updateArgs] = useArgs();
      const handleSubmit = (event) => {
        console.log("Submit event", event.detail);
      };
      const handleStateChange = (event) => {
        console.log("State Change event", event.detail);
      };
      const handleInput = (event) => {
        updateArgs({ values: event.detail });
        console.log("input event", event.detail);
      };
      return html` <f-form-builder
        .config=${args.config}
        .values=${args.values}
        @submit=${handleSubmit}
        @stateChange=${handleStateChange}
        @input=${handleInput}
      ></f-form-builder>`;
    }}
  </Story>
</Canvas>

<br />

<ArgsTable of={"f-form-builder"} />
